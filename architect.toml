[project]
name = "my-project"
language = "python"
test_command = "uv run --extra dev pytest -q"
lint_command = "uv run --extra dev ruff check src tests"
type_check_command = "python -m compileall src tests"

[backend]
primary = "codex"
fallback = "codex"
max_retries = 1
retry_backoff_seconds = 0.5
timeout_seconds = 90

[agents]
supervisor_model = "gpt-5.3-codex"
specialist_model = "gpt-5.3-codex"

[workflow]
max_patches_before_review = 5
max_parallel_tasks = 1
auto_test = true
auto_lint = true
require_critic_approval = true
plan_requires_critic = false
review_max_major_findings = -1
review_require_docs_update = true
review_require_changelog_update = false
branch_strategy = "single_branch_queue"
task_max_attempts = 2
task_retry_backoff_seconds = 0
max_conflict_cycles = 2
fallback_artifact_mode = "local_only"
tracked_fallback_dir = "docs/architect-runs"
test_coverage_threshold = 0

[guardrails]
max_file_changes_per_patch = 10
forbidden_paths = [".env", "secrets/*", "production.config.*"]
require_tests_for = ["src/**/*.py"]

[state]
backend = "notes"
branch_ref = "architect/state"
